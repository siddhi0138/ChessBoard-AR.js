<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <title>AR.js</title>

    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://raw.githack.com/fcor/arjs-gestures/master/dist/gestures.js"></script>
  </head>
  <body style="margin: 0px; overflow: hidden">
    <div class="arjs-loader">
      <div
        style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;"
      >
        Loading, please wait...
      </div>
    </div>

    <!-- AR.js scene with tweaked settings for smoother rendering -->
    <a-scene
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3; smooth: true; smoothCount: 10; smoothTolerance: 0.01; smoothThreshold: 2;"
      gesture-detector
    >
      <a-assets>
        <a-asset-item id="chessBoard" src="Chess Scene.glb"></a-asset-item>
      </a-assets>

      <a-marker
        id="animated-marker"
        type="barcode"
        value="1"
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
      >
        <a-entity
          gltf-model="#chessBoard"
          scale="0.05 0.05 0.05" <!-- Reduced scale -->
          position="0 0 -5" <!-- Moved further back -->
          class="clickable"
          gesture-handler="minScale: 0.25; maxScale: 10"
          rotation="0 0 0"
        >
        </a-entity>
      </a-marker>

      <a-entity camera fov="60"></a-entity> <!-- Reduced FOV for stability -->
    </a-scene>
  </body>
</html>
